/*
 Navicat Premium Data Transfer

 Source Server         : 本地库
 Source Server Type    : MySQL
 Source Server Version : 80030
 Source Host           : localhost:3306
 Source Schema         : seata_storage

 Target Server Type    : MySQL
 Target Server Version : 80030
 File Encoding         : 65001

 Date: 23/02/2023 15:22:47
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for storage
-- ----------------------------
DROP TABLE IF EXISTS `storage`;
CREATE TABLE `storage`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `commodity_code` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NULL DEFAULT NULL,
  `count` int(0) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8mb3 COLLATE = utf8mb3_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of storage
-- ----------------------------
INSERT INTO `storage` VALUES (1, '2001', 50);

-- ----------------------------
-- Table structure for storage_tcc
-- ----------------------------
DROP TABLE IF EXISTS `storage_tcc`;
CREATE TABLE `storage_tcc`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `commodity_code` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NULL DEFAULT NULL,
  `count` int(0) NULL DEFAULT NULL,
  `freeze_count` int(0) NULL DEFAULT 0,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8mb3 COLLATE = utf8mb3_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of storage_tcc
-- ----------------------------
INSERT INTO `storage_tcc` VALUES (1, '2001', 40, 0);

-- ----------------------------
-- Table structure for tcc_fence_log
-- ----------------------------
DROP TABLE IF EXISTS `tcc_fence_log`;
CREATE TABLE `tcc_fence_log`  (
  `xid` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'global id',
  `branch_id` bigint(0) NOT NULL COMMENT 'branch id',
  `action_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'action name',
  `status` tinyint(0) NOT NULL COMMENT 'status(tried:1;committed:2;rollbacked:3;suspended:4)',
  `gmt_create` datetime(3) NOT NULL COMMENT 'create time',
  `gmt_modified` datetime(3) NOT NULL COMMENT 'update time',
  PRIMARY KEY (`xid`, `branch_id`) USING BTREE,
  INDEX `idx_gmt_modified`(`gmt_modified`) USING BTREE,
  INDEX `idx_status`(`status`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of tcc_fence_log
-- ----------------------------
INSERT INTO `tcc_fence_log` VALUES ('192.168.0.11:8091:5413689721568497684', 5413689721568497688, 'deduct', 4, '2023-02-22 21:40:41.987', '2023-02-22 21:40:41.987');
INSERT INTO `tcc_fence_log` VALUES ('192.168.0.11:8091:5413689721568497689', 5413689721568497693, 'deduct', 4, '2023-02-22 21:43:26.388', '2023-02-22 21:43:26.388');
INSERT INTO `tcc_fence_log` VALUES ('192.168.0.11:8091:5413689721568497694', 5413689721568497698, 'deduct', 2, '2023-02-22 21:44:44.011', '2023-02-22 21:44:44.156');
INSERT INTO `tcc_fence_log` VALUES ('192.168.0.11:8091:5413689721568497699', 5413689721568497704, 'deduct', 2, '2023-02-22 21:47:56.208', '2023-02-22 21:49:00.296');
INSERT INTO `tcc_fence_log` VALUES ('192.168.0.11:8091:5413689721568497705', 5413689721568497710, 'deduct', 2, '2023-02-22 21:49:18.684', '2023-02-22 21:49:18.762');
INSERT INTO `tcc_fence_log` VALUES ('192.168.0.11:8091:5413689721568497711', 5413689721568497716, 'deduct', 2, '2023-02-22 21:52:38.775', '2023-02-22 21:52:38.909');
INSERT INTO `tcc_fence_log` VALUES ('192.168.0.11:8091:5413689721568497717', 5413689721568497722, 'deduct', 2, '2023-02-22 21:53:53.009', '2023-02-22 21:53:53.085');
INSERT INTO `tcc_fence_log` VALUES ('192.168.0.11:8091:5413689721568497723', 5413689721568497728, 'deduct', 2, '2023-02-22 21:55:03.430', '2023-02-22 21:55:03.504');
INSERT INTO `tcc_fence_log` VALUES ('192.168.0.11:8091:5413689721568497729', 5413689721568497734, 'deduct', 2, '2023-02-22 21:55:41.416', '2023-02-22 21:55:41.469');
INSERT INTO `tcc_fence_log` VALUES ('192.168.0.11:8091:5413689721568497735', 5413689721568497740, 'deduct', 2, '2023-02-22 21:56:25.046', '2023-02-22 21:56:25.114');
INSERT INTO `tcc_fence_log` VALUES ('192.168.0.11:8091:5413689721568497743', 5413689721568497748, 'deduct', 2, '2023-02-22 21:58:15.809', '2023-02-22 21:58:15.871');
INSERT INTO `tcc_fence_log` VALUES ('192.168.0.11:8091:5413689721568497749', 5413689721568497754, 'deduct', 2, '2023-02-22 21:58:47.549', '2023-02-22 21:58:47.616');

-- ----------------------------
-- Table structure for undo_log
-- ----------------------------
DROP TABLE IF EXISTS `undo_log`;
CREATE TABLE `undo_log`  (
  `id` bigint(0) NOT NULL AUTO_INCREMENT,
  `branch_id` bigint(0) NOT NULL,
  `xid` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,
  `context` varchar(128) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,
  `rollback_info` longblob NOT NULL,
  `log_status` int(0) NOT NULL,
  `log_created` datetime(0) NOT NULL,
  `log_modified` datetime(0) NOT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `ux_undo_log`(`xid`, `branch_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 49 CHARACTER SET = utf8mb3 COLLATE = utf8mb3_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of undo_log
-- ----------------------------
INSERT INTO `undo_log` VALUES (12, 364430641745420288, '192.168.0.14:8091:364430640470351872', 'serializer=jackson', 0x7B2240636C617373223A22696F2E73656174612E726D2E64617461736F757263652E756E646F2E4272616E6368556E646F4C6F67222C22786964223A223139322E3136382E302E31343A383039313A333634343330363430343730333531383732222C226272616E63684964223A3336343433303634313734353432303238382C2273716C556E646F4C6F6773223A5B226A6176612E7574696C2E41727261794C697374222C5B7B2240636C617373223A22696F2E73656174612E726D2E64617461736F757263652E756E646F2E53514C556E646F4C6F67222C2273716C54797065223A22555044415445222C227461626C654E616D65223A2273746F72616765222C226265666F7265496D616765223A7B2240636C617373223A22696F2E73656174612E726D2E64617461736F757263652E73716C2E7374727563742E5461626C655265636F726473222C227461626C654E616D65223A2273746F72616765222C22726F7773223A5B226A6176612E7574696C2E41727261794C697374222C5B7B2240636C617373223A22696F2E73656174612E726D2E64617461736F757263652E73716C2E7374727563742E526F77222C226669656C6473223A5B226A6176612E7574696C2E41727261794C697374222C5B7B2240636C617373223A22696F2E73656174612E726D2E64617461736F757263652E73716C2E7374727563742E4669656C64222C226E616D65223A226964222C226B657954797065223A225052494D4152595F4B4559222C2274797065223A342C2276616C7565223A317D2C7B2240636C617373223A22696F2E73656174612E726D2E64617461736F757263652E73716C2E7374727563742E4669656C64222C226E616D65223A22636F756E74222C226B657954797065223A224E554C4C222C2274797065223A342C2276616C7565223A35387D5D5D7D5D5D7D2C226166746572496D616765223A7B2240636C617373223A22696F2E73656174612E726D2E64617461736F757263652E73716C2E7374727563742E5461626C655265636F726473222C227461626C654E616D65223A2273746F72616765222C22726F7773223A5B226A6176612E7574696C2E41727261794C697374222C5B7B2240636C617373223A22696F2E73656174612E726D2E64617461736F757263652E73716C2E7374727563742E526F77222C226669656C6473223A5B226A6176612E7574696C2E41727261794C697374222C5B7B2240636C617373223A22696F2E73656174612E726D2E64617461736F757263652E73716C2E7374727563742E4669656C64222C226E616D65223A226964222C226B657954797065223A225052494D4152595F4B4559222C2274797065223A342C2276616C7565223A317D2C7B2240636C617373223A22696F2E73656174612E726D2E64617461736F757263652E73716C2E7374727563742E4669656C64222C226E616D65223A22636F756E74222C226B657954797065223A224E554C4C222C2274797065223A342C2276616C7565223A35377D5D5D7D5D5D7D7D5D5D7D, 0, '2023-02-02 15:17:16', '2023-02-02 15:17:16');
INSERT INTO `undo_log` VALUES (20, 364430731084095488, '192.168.0.14:8091:364430730849214464', 'serializer=jackson', 0x7B7D, 1, '2023-02-02 15:17:37', '2023-02-02 15:17:37');
INSERT INTO `undo_log` VALUES (21, 364430731058929664, '192.168.0.14:8091:364430730849214464', 'serializer=jackson', 0x7B7D, 1, '2023-02-02 15:17:37', '2023-02-02 15:17:37');
INSERT INTO `undo_log` VALUES (26, 364430798297817088, '192.168.0.14:8091:364430798071324672', 'serializer=jackson', 0x7B7D, 1, '2023-02-02 15:17:53', '2023-02-02 15:17:53');
INSERT INTO `undo_log` VALUES (27, 364430798272651264, '192.168.0.14:8091:364430798071324672', 'serializer=jackson', 0x7B7D, 1, '2023-02-02 15:17:53', '2023-02-02 15:17:53');
INSERT INTO `undo_log` VALUES (32, 364431046785163264, '192.168.0.14:8091:364431045711421440', 'serializer=jackson', 0x7B7D, 1, '2023-02-02 15:18:52', '2023-02-02 15:18:52');
INSERT INTO `undo_log` VALUES (33, 364431046764191744, '192.168.0.14:8091:364431045711421440', 'serializer=jackson', 0x7B7D, 1, '2023-02-02 15:18:52', '2023-02-02 15:18:52');
INSERT INTO `undo_log` VALUES (38, 364431272715542528, '192.168.0.14:8091:364431272476467200', 'serializer=jackson', 0x7B7D, 1, '2023-02-02 15:19:46', '2023-02-02 15:19:46');
INSERT INTO `undo_log` VALUES (39, 364431272694571008, '192.168.0.14:8091:364431272476467200', 'serializer=jackson', 0x7B7D, 1, '2023-02-02 15:19:46', '2023-02-02 15:19:46');
INSERT INTO `undo_log` VALUES (44, 364431392181903360, '192.168.0.14:8091:364431391934439424', 'serializer=jackson', 0x7B7D, 1, '2023-02-02 15:20:15', '2023-02-02 15:20:15');
INSERT INTO `undo_log` VALUES (45, 364431392165126144, '192.168.0.14:8091:364431391934439424', 'serializer=jackson', 0x7B7D, 1, '2023-02-02 15:20:15', '2023-02-02 15:20:15');

SET FOREIGN_KEY_CHECKS = 1;
